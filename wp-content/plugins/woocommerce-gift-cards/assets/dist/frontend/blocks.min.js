!function(c){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=c,o.c=r,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(c,r,function(e){return t[e]}.bind(null,r));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=71)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},,function(e,t){e.exports=window.wc.blocksCheckout},function(e,t,c){var r=c(41),o=c(42),a=c(34),n=c(43);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||n()},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t){function c(){return e.exports=c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c,r=arguments[t];for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,c.apply(this,arguments)}e.exports=c,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,c){"use strict";var r=c(13);t.a=function(){var e=Object(r.getSetting)("wc-gift-cards-blocks_data"),t=e.show_balance_checkbox,c=e.show_remaining_balance_per_gift_card;return{isUiDisabled:e.is_ui_disabled,isCartDisabled:e.is_cart_disabled,isRedeemingEnabled:e.is_redeeming_enabled,isCart:e.is_cart,isCheckout:e.is_checkout,showBalanceCheckbox:t,showRemainingBalance:c,accountOrdersLink:e.account_orders_link}}},,,function(e,t,c){var r;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var c=arguments[t];if(c){var r,o=typeof c;if("string"==o||"number"==o)e.push(c);else if(Array.isArray(c))!c.length||(r=s.apply(null,c))&&e.push(r);else if("object"==o)if(c.toString===Object.prototype.toString)for(var a in c)n.call(c,a)&&c[a]&&e.push(a);else e.push(c.toString())}}return e.join(" ")}e.exports?e.exports=s.default=s:void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=window.wc.priceFormat},function(e,t){e.exports=window.wc.wcSettings},function(e,t){e.exports=window.wp.data},,function(e,t){e.exports=window.wp.compose},,,,,,,function(e,t,c){var n=c(44);e.exports=function(e,t){if(null==e)return{};var c,r=n(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)c=o[a],0<=t.indexOf(c)||Object.prototype.propertyIsEnumerable.call(e,c)&&(r[c]=e[c]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=window.wp.primitives},,,function(r,o,e){"use strict";function a(e){var t=(e=e.extensions["woocommerce-gift-cards"]).is_using_balance,c=e.available_total,r=e.pending_total,o=Object(g.a)().accountOrdersLink,e=Object(u.useState)(t),e=(t=m()(e,2))[0],a=t[1],t=Object(u.useState)(!1),n=(t=m()(t,2))[0],s=t[1],t=n,n=Object(u.useMemo)(function(){var e=Object(d.sprintf)(Object(d.__)("Use %s from your gift cards balance.","woocommerce-gift-cards"),"<strong>"+Object(p.formatPrice)(c)+"</strong>"),t='<a href="'+o+'">'+Object(d.__)("pending orders","woocommerce-gift-cards")+"</a>",t=Object(d.sprintf)(Object(d.__)("%1$s on hold in %2$s","woocommerce-gift-cards"),Object(p.formatPrice)(r),t);return Object(u.createElement)(u.RawHTML,{className:"wc-gift-cards-checkbox-message"},e,0<r&&'<div class="wc-block-components-totals-item__description">'+t+"</div>")},[c,r,o]);return Object(u.createElement)(b.TotalsWrapper,null,Object(u.createElement)("div",{className:f()("wc-gc-balance-checkbox-container",{"wc-gc-balance-checkbox-container--disabled":t})},Object(u.createElement)(b.CheckboxControl,{className:"wc-gc-balance-checkbox",id:"wc-gc-balance-checkbox",checked:e,onChange:function(e){return e=e,s(!0),void Object(b.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"set_balance_usage",value:e?"yes":"no"}}).then(function(){a(function(e){return!e})}).finally(function(){s(!1)})},disabled:t},n)))}function O(e){var t=e.text,c=void 0===(c=e.screenReaderText)?"":c,r=void 0===(r=e.element)?"li":r,o=void 0===(o=e.className)?"":o,a=void 0===(a=e.radius)?"small":a,n=void 0===(n=e.children)?null:n,e=v()(e,_),o=f()(o,"wc-block-components-chip","wc-block-components-chip--radius-"+a),a=Boolean(c&&c!==t);return Object(u.createElement)(r,j()({className:o},e),Object(u.createElement)("span",{"aria-hidden":a,className:"wc-block-components-chip__text"},t),a&&Object(u.createElement)("span",{className:"screen-reader-text"},c),n)}function w(e){var t=void 0===(t=e.ariaLabel)?"":t,c=void 0===(c=e.className)?"":c,r=void 0!==(r=e.disabled)&&r,o=void 0===(a=e.onRemove)?function(){}:a,a=void 0!==(a=e.removeOnAnyClick)&&a,n=e.text,s=void 0===(s=e.screenReaderText)?"":s,e=v()(e,y),i=a?"span":"button",l={"aria-label":t=!t?"string"!=typeof(l=s&&"string"==typeof s?s:n)?Object(d.__)("Remove","woocommerce-gift-cards"):Object(d.sprintf)(Object(d.__)('Remove gift card "%s"',"woocommerce-gift-cards"),l):t,disabled:r,onClick:o,onKeyDown:function(e){"Backspace"!==e.key&&"Delete"!==e.key||o()}},t=a?l:{},l=a?{"aria-hidden":!0}:l;return Object(u.createElement)(O,j()({},e,t,{className:f()(c,"is-removable",{"is-removing":r}),element:a?"button":e.element,screenReaderText:s,text:n}),Object(u.createElement)(i,j()({className:"wc-block-components-chip__remove"},l),Object(u.createElement)(h.a,{className:"wc-block-components-chip__remove-icon",icon:x,size:16})))}function n(e){var t=e.giftcard,c=e.handleRemove,e=Object(p.getCurrency)(),r=Object(u.useState)(!1),o=(r=m()(r,2))[0],a=r[1],n=t.id,r=t.code,s=t.amount,i=t.balance,t=t.pending_message,l=Object(g.a)().showRemainingBalance;return Object(u.createElement)(b.TotalsWrapper,null,Object(u.createElement)(b.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-discount",currency:e,label:Object(d.__)("Gift Card:","woocommerce-gift-cards"),value:-1*parseInt(s,10),description:Object(u.createElement)(u.Fragment,null,Object(u.createElement)(w,{key:"gifcard-"+r,className:"wc-gift-cards-totals-giftcard__code-list-item",text:r,element:"div",radius:"large",screenReaderText:Object(d.sprintf)(Object(d.__)("Gift Card: %s","woocommerce-gift-cards"),r),disabled:o,onRemove:function(){a(!0),c(n)},ariaLabel:Object(d.sprintf)(Object(d.__)('Remove gift card "%s"',"woocommerce-gift-cards"),r)}),t&&Object(u.createElement)(u.RawHTML,null,t),l&&Object(u.createElement)("div",null,Object(u.createElement)("strong",null,Object(d.__)("Remaining Balance:","woocommerce-gift-cards")),Object(u.createElement)("div",null,Object(p.formatPrice)(i-s))))}))}function s(e){var t=(e=e.extensions["woocommerce-gift-cards"]).account_giftcards,c=e.balance,e=e.available_total;if(0===t.length)return null;var r=Object(p.getCurrency)(),o=t.reduce(function(e,t){return e+=parseInt(t.amount,10)},0);return Object(u.createElement)(u.Fragment,null,Object(u.createElement)(b.TotalsWrapper,null,Object(u.createElement)(b.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-discount",currency:r,label:Object(d.__)("Gift Cards Balance","woocommerce-gift-cards"),value:-1*o,description:Object(u.createElement)(u.Fragment,null,Object(u.createElement)("strong",null,Object(d._n)("Code:","Codes:",t.length,"woocommerce-gift-cards")),Object(u.createElement)("ul",{className:"wc-block-components-totals-discount__coupon-list"},t.map(function(e){return Object(u.createElement)(O,{key:"account-giftcard-"+e.code,className:"wc-block-components-totals-discount__coupon-list-item",text:e.code,radius:"large",screenReaderText:Object(d.sprintf)(Object(d.__)("Gift Card: %s","woocommerce-gift-cards"),e.code)})})),Object(u.createElement)("strong",null,Object(d.__)("Remaining Balance:","woocommerce-gift-cards")),Object(u.createElement)("div",null,Object(p.formatPrice)(c-e)))})))}function i(e){if(!0==(!(e=e.extensions)||!e.hasOwnProperty("woocommerce-gift-cards")||!e["woocommerce-gift-cards"].hasOwnProperty("account_giftcards")))return null;var t=(e=e["woocommerce-gift-cards"]).cart_total,c=e.applied_giftcards,e=e.account_giftcards;return c.length||e.length?(c=Object(p.getCurrency)(),Object(u.createElement)(b.TotalsWrapper,null,Object(u.createElement)(b.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-footer-item",currency:c,label:Object(d.__)("Total","woocommerce-gift-cards"),value:parseInt(t,10),description:Object(d.__)("(before gift cards)","woocommerce-gift-cards")}))):null}var u=e(0),t=e(4),m=e.n(t),d=e(1),t=e(11),f=e.n(t),b=e(3),p=e(12),g=e(8),t=(e(53),e(14)),l=e(16),c=e(7),j=e.n(c),c=e(23),v=e.n(c),_=["text","screenReaderText","element","className","radius","children"],h=e(68),c=e(25),x=Object(u.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(u.createElement)(c.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),y=(e(54),["ariaLabel","className","disabled","onRemove","removeOnAnyClick","text","screenReaderText"]),k=Object(l.compose)(Object(t.withDispatch)(function(e){return{createNotice:e("core/notices").createNotice}}))(function(e){var t=e.extensions,c=e.createNotice,e=t["woocommerce-gift-cards"].applied_giftcards;if(!e.length)return null;function r(e){Object(b.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"remove_gift_card_from_session",wc_gc_remove_id:e}}).then(function(){var e=Object(d.__)("Gift card code has been removed.","woocommerce-gift-cards");c("default",e,{id:"wc-gift-cards-removed-gift-card",type:"snackbar",context:o?"wc/checkout":"wc/cart"})}).catch(function(){})}var o=Object(g.a)().isCheckout;return e.map(function(e){return Object(u.createElement)(n,{key:"giftcard-"+e.id,giftcard:e,handleRemove:r})})});o.a=function(e){if(!0==(!e.extensions||!e.extensions.hasOwnProperty("woocommerce-gift-cards")||!(null!=e&&e.extensions["woocommerce-gift-cards"].hasOwnProperty("account_giftcards"))))return null;var t=e.extensions["woocommerce-gift-cards"],c=t.balance,t=t.available_total,r=Object(g.a)(),o=r.isRedeemingEnabled,r=r.showBalanceCheckbox,c=0<c&&o&&r;return Object(u.createElement)(u.Fragment,null,Object(u.createElement)(i,e),Object(u.createElement)(k,e),c&&0<t&&Object(u.createElement)(a,e),c&&Object(u.createElement)(s,e))}},function(o,e,t){"use strict";function d(e){var t=e.children,c=e.className,r=e.screenReaderLabel,e=void 0===(e=e.isLoading)||e;return Object(S.createElement)("div",{className:T()(c,{"wc-block-components-loading-mask":e})},Object(S.createElement)("div",{className:T()({"wc-block-components-loading-mask__children":e}),"aria-hidden":e},t),e&&Object(S.createElement)("span",{className:"screen-reader-text"},r||Object(f.__)("Loading…","woocommerce-gift-cards")))}function b(e){var u=e.className,t=e.id,c=void 0===(c=e.type)?"text":c,m=e.ariaLabel,d=e.ariaDescribedBy,r=e.label,f=e.screenReaderLabel,b=e.disabled,p=e.help,o=void 0===(o=e.autoCapitalize)?"off":o,a=void 0===(a=e.autoComplete)?"off":a,n=void 0===(n=e.value)?"":n,g=e.onChange,O=e.min,w=e.max,j=e.step,s=void 0!==(s=e.hasError)&&s,i=void 0!==(i=e.required)&&i,l=e.focusOnMount,v=void 0!==l&&l,_=void 0===(l=e.onBlur)?function(){}:l,e=Object(S.useState)(!0),h=(l=C()(e,2))[0],x=l[1],e=Object(S.useState)(!1),e=(l=C()(e,2))[0],y=l[1],k=Object(S.useRef)(null),E=(Object(S.useEffect)(function(){var e;h&&v&&null!==(e=k.current)&&void 0!==e&&e.focus(),x(!1)},[v,h]),"number"===c?{step:j,min:O,max:w}:{}),N={};return Object.keys(E).forEach(function(e){void 0!==E[e]&&(N[e]=E[e])}),Object(S.createElement)("div",{className:T()("wc-gift-cards-text-input",u,{"is-active":e||n,"has-error":s})},Object(S.createElement)("input",M()({type:c,id:t,value:n,ref:k,autoCapitalize:o,autoComplete:a,onChange:function(e){g(e.target.value)},onFocus:function(){return y(!0)},onBlur:function(e){_(e.target.value),y(!1)},"aria-label":m||r,disabled:b,"aria-describedby":p&&!d?t+"__help":d,required:i},N)),Object(S.createElement)(R.Label,{label:r,screenReaderLabel:f||r,wrapperElement:"label",wrapperProps:{htmlFor:t},htmlFor:t}))}var c=t(4),C=t.n(c),S=t(0),f=t(1),R=t(3),c=t(14),a=t(16),r=t(11),T=t.n(r),r=t(7),M=t.n(r),p=(t(51),t(8));t(52),e.a=Object(a.compose)(Object(c.withDispatch)(function(e){return{createNotice:e("core/notices").createNotice}}))(function(e){var t=e.extensions,u=e.createNotice,e=Object(S.useState)(""),e=C()(e,2),c=e[0],r=e[1],e=Object(S.useState)(!1),e=C()(e,2),o=e[0],a=e[1],e=Object(S.useState)(!1),e=C()(e,2),n=e[0],s=e[1],e=Object(S.useState)(""),e=C()(e,2),i=e[0],l=e[1];if(!0==(!t||!t.hasOwnProperty("woocommerce-gift-cards")||!t["woocommerce-gift-cards"].hasOwnProperty("account_giftcards")))return null;var m=Object(p.a)().isCheckout;return Object(S.createElement)(R.Panel,{className:"wc-gift-cards-apply-panel",hasBorder:!1,initialOpen:!1,title:Object(f.__)("Have a gift card?","woocommerce-gift-cards")},Object(S.createElement)(d,{isLoading:o},Object(S.createElement)("form",{className:"wc-gift-cards-form"},Object(S.createElement)(b,{id:"wc-gift-cards-form-input",label:Object(f.__)("Enter code","woocommerce-gift-cards"),type:"string",value:c,disabled:o,ariaDescribedBy:"",onChange:function(e){r(e)},focusOnMount:!0,hasError:n&&""===c,errorMessage:i}),Object(S.createElement)(R.Button,{className:"wc-gift-cards-form__button",disabled:null===c||""===c||o,showSpinner:o,onClick:function(e){e.preventDefault();var e=c;(e=e.trim()).match(/^([a-zA-Z0-9]{4}[\-]){3}[a-zA-Z0-9]{4}$/)?(a(!0),s(!1),l(""),Object(R.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"apply_gift_card_to_session",wc_gc_cart_code:e}}).then(function(){var e=Object(f.__)("Gift card code has been applied.","woocommerce-gift-cards");u("default",e,{id:"wc-gift-cards-form-notice",type:"snackbar",context:m?"wc/checkout":"wc/cart"})}).catch(function(e){s(!0),null!=e&&e.message&&"string"==typeof e.message?l(e.message):l(Object(f.__)("An unknown error occurred.","woocommerce-gift-cards"))}).finally(function(){a(!1),r("")})):(e=Object(f.__)("Please enter a gift card code that follows the format XXXX-XXXX-XXXX-XXXX, where X can be any letter or number.","woocommerce-gift-cards"),r(""),l(e),s(!0))},type:"submit"},Object(f.__)("Apply","woocommerce-gift-cards")),n&&Object(S.createElement)("div",{className:"wc-gift-cards-form__error"},Object(S.createElement)(S.RawHTML,null,i)))))})},,,,function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,r=new Array(t);c<t;c++)r[c]=e[c];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,c){var r=c(33);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(c="Object"===c&&e.constructor?e.constructor.name:c)||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e){e.exports=JSON.parse('{"name":"woocommerce/checkout-order-summary-gift-card-form-block","version":"1.0.0","title":"Gift Card Form","description":"Shows the apply gift card form.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/checkout-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},function(e){e.exports=JSON.parse('{"name":"woocommerce/checkout-order-summary-gift-card-totals-block","version":"1.0.0","title":"Gift Card Totals","description":"Shows the gift card totals.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/checkout-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},function(e){e.exports=JSON.parse('{"name":"woocommerce/cart-order-summary-gift-card-form-block","version":"1.0.0","title":"Gift Card Form","description":"Shows the apply gift card form.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/cart-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},function(e){e.exports=JSON.parse('{"name":"woocommerce/cart-order-summary-gift-card-totals-block","version":"1.0.0","title":"Gift Card Totals","description":"Shows the gift card totals.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/cart-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}')},,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var c=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=c){var r,o,a=[],n=!0,s=!1;try{for(c=c.call(e);!(n=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(s)throw o}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};for(var c,r={},o=Object.keys(e),a=0;a<o.length;a++)c=o[a],0<=t.indexOf(c)||(r[c]=e[c]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,c){"use strict";var r=c(0),o=c(3),a=c(29);t.a=function(e){var t=e.className,e=e.extensions;return Object(r.createElement)(o.TotalsWrapper,{className:t},Object(r.createElement)(a.a,{extensions:e}))}},function(e,t,c){"use strict";var r=c(0),o=c(28);t.a=function(e){var t=e.className;return Object(r.createElement)("div",{className:t},Object(r.createElement)(o.a,e))}},function(e,t,c){"use strict";var r=c(0),o=c(3),a=c(29);t.a=function(e){var t=e.className,e=e.extensions;return Object(r.createElement)(o.TotalsWrapper,{className:t},Object(r.createElement)(a.a,{extensions:e}))}},function(e,t,c){"use strict";var r=c(0),o=c(28);t.a=function(e){var t=e.className;return Object(r.createElement)("div",{className:t},Object(r.createElement)(o.a,e))}},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,,,,,,,,,,function(e,t,c){"use strict";var o=c(0);t.a=function(e){let{icon:t,size:c=24,...r}=e;return Object(o.cloneElement)(t,{width:c,height:c,...r})}},,,function(u,e,t){"use strict";t.r(e);var e=t(8),c=t(0),r=t(3),o=t(45),a=t(36),n=t(46),s=t(37),i=t(47),l=t(38),m=t(48),d=t(39);t(55);t=Object(e.a)(),e=t.isCartDisabled,t.isUiDisabled||(Object(r.registerCheckoutBlock)({metadata:a,component:function(e){return Object(c.createElement)(o.a,e)}}),Object(r.registerCheckoutBlock)({metadata:s,component:function(e){return Object(c.createElement)(n.a,e)}}),e||(Object(r.registerCheckoutBlock)({metadata:l,component:function(e){return Object(c.createElement)(i.a,e)}}),Object(r.registerCheckoutBlock)({metadata:d,component:function(e){return Object(c.createElement)(m.a,e)}})))}]);