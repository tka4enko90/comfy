!function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=69)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t,r){e.exports=r(66)()},,function(e,t,r){var n=r(41),o=r(42),a=r(34),c=r(43);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wc.components},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=window.lodash},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t){e.exports=window.wc.wcSettings},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wc.data},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wc.navigation},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(64);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(65).default,o=r(26);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wc.date},function(e,t,r){var c=r(44);e.exports=function(e,t){if(null==e)return{};var r,n=c(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.components},,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},,,,function(e,t){e.exports=window.wc.number},,function(e,t,r){var n=r(61),o=r(62),a=r(34),c=r(63);e.exports=function(e){return n(e)||o(e)||a(e)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(33);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.hooks},,,,,,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),a=0;a<o.length;a++)r=o[a],0<=t.indexOf(r)||(n[r]=e[r]);return n},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,function(e,t){e.exports=window.wc.csvExport},function(e,t){e.exports=window.wp.htmlEntities},,,,,,function(e,t){e.exports=window.wc.currency},function(e,t){e.exports=window.wp.date},function(e,t){e.exports=window.wp.dom},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.url},function(e,t,r){var n=r(33);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(r,e){function n(e,t){return r.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r.exports.__esModule=!0,r.exports.default=r.exports,n(e,t)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports},function(t,e){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(e,t,r){"use strict";var c=r(67);function n(){}function o(){}o.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,o,a){if(a!==c)throw a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),a.name="Invariant Violation",a}function t(){return e}var r={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:n};return r.PropTypes=r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,function(n,e,t){"use strict";t.r(e);function N(){return Object(T.createElement)("svg",{role:"img","aria-hidden":"true",focusable:"false",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24"},Object(T.createElement)("path",{d:"M18,9c-0.009,0-0.017,0.002-0.025,0.003C17.72,5.646,14.922,3,11.5,3C7.91,3,5,5.91,5,9.5c0,0.524,0.069,1.031,0.186,1.519 C5.123,11.016,5.064,11,5,11c-2.209,0-4,1.791-4,4c0,1.202,0.541,2.267,1.38,3h18.593C22.196,17.089,23,15.643,23,14 C23,11.239,20.761,9,18,9z M12,16l-4-5h3V8h2v3h3L12,16z"}))}var e=t(32),B=t.n(e),I=t(35),D=t(1),T=t(0),e=t(10),L=t.n(e),e=t(18),a=t.n(e),e=t(19),i=t.n(e),e=t(20),s=t.n(e),e=t(21),u=t.n(e),e=t(6),o=t.n(e),e=t(2),e=t.n(e),F=t(5),c=[{label:Object(D.__)("Show Gift Cards","woocommerce-gift-cards"),staticParams:["filter"],param:"section",showFilters:function(){return!0},filters:[{label:Object(D._x)("Used","analytics filter label","woocommerce-gift-cards"),value:"used"},{label:Object(D._x)("Issued","analytics filter label","woocommerce-gift-cards"),value:"issued"},{label:Object(D._x)("Expired","analytics filter label","woocommerce-gift-cards"),value:"expired"}]}],l="giftcards-issued",d=[{key:"giftcards_count",label:Object(D.__)("Issued Gift Cards","woocommerce-gift-cards"),order:"desc",orderby:"date",type:"number"},{key:"issued_balance",label:Object(D.__)("Issued Amount","woocommerce-gift-cards"),order:"desc",orderby:"issued_balance",type:"currency"}],p=t(26),f=t.n(p),p=t(16),m=(t(50),t(14)),M=t(9),Q=t(17),y=t(30),b=t(13),h=t(22),A=t(15),r=t(7),H=t.n(r),r=t(4),V=t.n(r),r=t(23),U=t.n(r),Y=t(24),G=t(58),K=t(49);function g(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var r=function(e){s()(r,e);var t=g(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"render",value:function(){var e,t,r,n,o=this.props,a=o.className,c=o.isError,o=o.isEmpty;return c?(e=Object(D.__)("There was an error getting your stats. Please try again.","woocommerce-product-bundles"),t=Object(D.__)("Reload","woocommerce-product-bundles"),n=function(){window.location.reload()}):o&&(e=Object(D.__)("No results could be found for this date range.","woocommerce-product-bundles"),t=Object(D.__)("View Orders","woocommerce-product-bundles"),r=Object(b.getAdminLink)("edit.php?post_type=shop_order")),Object(T.createElement)(F.EmptyContent,{className:a,title:e,actionLabel:t,actionURL:r,actionCallback:n})}}]),r}(T.Component),W=(r.propTypes={className:e.a.string,isError:e.a.bool,isEmpty:e.a.bool},r.defaultProps={className:""},r);var z=["getHeadersContent","getRowsContent","getSummary","isRequesting","primaryData","tableData","endpoint","itemIdField","tableQuery","compareBy","compareParam","searchBy","labels"],X=["updateUserPreferences"];function O(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach(function(e){L()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _(c){var l=c.getHeadersContent,d=c.getRowsContent,p=c.getSummary,e=c.isRequesting,t=c.primaryData,r=c.tableData,f=c.endpoint,n=(c.itemIdField,c.tableQuery,c.compareBy),m=c.compareParam,i=c.searchBy,o=void 0===(o=c.labels)?{}:o,y=U()(c,z),b=c.query,g=c.columnPrefsKey,h=r.items,O=r.query,a=b[m]?Object(Q.getIdsFromQuery)(b[n]):[],a=Object(T.useState)(a),s=(a=V()(a,2))[0],_=a[1],v=Object(T.useRef)(null),j=(a=Object(A.useUserPreferences)()).updateUserPreferences,a=U()(a,X);if(r.isError||t.isError)return Object(T.createElement)(W,{isError:!0});function w(e,t,r){return r=p?p(t,r):null,Object(I.applyFilters)("woocommerce_admin_report_table",{endpoint:f,headers:l(),rows:d(e),totals:t,summary:r,items:h})}function x(e){var t=c.ids;_(e?t:[])}function R(e,t){var r=c.ids;t?_(Object(M.uniq)([r[e]].concat(B()(s)))):(t=s.indexOf(r[e]),_([].concat(B()(s.slice(0,t)),B()(s.slice(t+1)))))}var u,C,E=[],a=(g&&(E=a&&a[g]?a[g]:E),e||r.isRequesting||t.isRequesting),e=Object(M.get)(t,["data","totals"],{}),t=0<(r=h.totalResults||0),q=Object(Q.getSearchWords)(b).map(function(e){return{key:e,label:e}}),S=h.data,P=(S=w(S,e,r)).headers,e=S.rows,S=S.summary,k=(n&&(e=e.map(function(e,t){return[(t=t,r=c.ids,r=-1!==s.indexOf((void 0===r?[]:r)[t]),{display:Object(T.createElement)(Y.CheckboxControl,{onChange:Object(M.partial)(R,t),checked:r}),value:!1})].concat(B()(e));var r}),P=[(u=c.ids,u=(k=0<(u=void 0===u?[]:u).length)&&u.length===s.length,{cellClassName:"is-checkbox-column",key:"compare",label:Object(T.createElement)(Y.CheckboxControl,{onChange:x,"aria-label":Object(D.__)("Select All"),checked:u,disabled:!k}),required:!0})].concat(B()(P))),u=P,(C=E)?u.map(function(e){return $($({},e),{},{visible:e.required||!C.includes(e.key)})}):u.map(function(e){return $($({},e),{},{visible:e.required||!e.hiddenByDefault})}));return Object(T.createElement)(T.Fragment,null,Object(T.createElement)("div",{className:"woocommerce-report-table__scroll-point",ref:v,"aria-hidden":!0}),Object(T.createElement)(F.TableCard,H()({className:"woocommerce-report-table-"+f.replace("/","-"),hasSearch:!!i,actions:[n&&Object(T.createElement)(F.CompareButton,{key:"compare",className:"woocommerce-table__compare",count:s.length,helpText:o.helpText||Object(D.__)("Check at least two items below to compare","woocommerce-admin"),onClick:function(){n&&Object(Q.onQueryChange)("compare")(n,m,s.join(","))},disabled:!t},o.compareButton||Object(D.__)("Compare","woocommerce-admin")),i&&Object(T.createElement)(F.Search,{allowFreeTextSearch:!0,inlineTags:!0,key:"search",onChange:function(e){var t,r=c.baseSearchQuery,e=e.map(function(e){return e.label.replace(",","%2C")});e.length?Object(Q.updateQueryString)($($((t={filter:void 0},L()(t,m,void 0),L()(t,i,void 0),t),r),{},{search:Object(M.uniq)(e).join(",")})):Object(Q.updateQueryString)({search:void 0})},placeholder:o.placeholder||Object(D.__)("Search by item name","woocommerce-admin"),selected:q,showClearButton:!0,type:i,disabled:!t}),t&&Object(T.createElement)(Y.Button,{key:"download",className:"woocommerce-table__download-button",disabled:a,onClick:function(){var t=c.createNotice,e=c.startExport,r=c.title,n=Object.assign({},b),o=h.data,a=h.totalResults;delete n.extended_info,n.search&&delete n[i],o&&o.length===a?(a=(o=w(o,a)).headers,o=o.rows,Object(K.downloadCSVFile)(Object(K.generateCSVFileName)(r,n),Object(K.generateCSVDataFromTable)(a,o))):e(f,O).then(function(){return t("success",Object(D.sprintf)(Object(D.__)("Your %s Report will be emailed to you.","woocommerce-admin"),r))}).catch(function(e){return t("error",e.message||Object(D.sprintf)(Object(D.__)("There was a problem exporting your %s Report. Please try again.","woocommerce-admin"),r))})}},Object(T.createElement)(N,null),Object(T.createElement)("span",{className:"woocommerce-table__download-button__label"},o.downloadButton||Object(D.__)("Download","woocommerce-admin")))],headers:k,isLoading:a,onQueryChange:Q.onQueryChange,onColumnsChange:function(t,e){var r=P.map(function(e){return e.key}).filter(function(e){return!t.includes(e)});g&&(r=L()({},g,r),j(r))},onSort:function(e,t){Object(Q.onQueryChange)("sort")(e,t)},onPageChange:function(e,t){v.current.scrollIntoView();var r=v.current.nextSibling.querySelector(".woocommerce-table__table"),r=G.focus.focusable.find(r);r.length&&r[0].focus()},rows:e,rowsPerPage:parseInt(O.per_page,10)||A.QUERY_DEFAULTS.pageSize,summary:S,totalRows:r},y)))}_.propTypes={baseSearchQuery:e.a.object,compareBy:e.a.string,compareParam:e.a.string,columnPrefsKey:e.a.string,endpoint:e.a.string,getHeadersContent:e.a.func.isRequired,getRowsContent:e.a.func.isRequired,getSummary:e.a.func,itemIdField:e.a.string,labels:e.a.shape({compareButton:e.a.string,downloadButton:e.a.string,helpText:e.a.string,placeholder:e.a.string}),primaryData:e.a.object,searchBy:e.a.string,summaryFields:e.a.arrayOf(e.a.string),tableData:e.a.object.isRequired,tableQuery:e.a.object,title:e.a.string.isRequired},_.defaultProps={primaryData:{},tableData:{items:{data:[],totalResults:0},query:{}},tableQuery:{},compareParam:"filter",downloadable:!1,onSearch:M.noop,baseSearchQuery:{}};var v={},j=Object(p.compose)(Object(m.withSelect)(function(e,t){var r=t.endpoint,n=t.getSummary,o=t.isRequesting,a=(t.itemIdField,t.query),c=t.tableData,l=t.tableQuery,i=t.filters,s=t.advancedFilters,d=t.summaryFields,t=t.extendedItemsStoreName,u=e(A.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range;if(o)return v;o=e(A.REPORTS_STORE_NAME);t&&e(t);return{primaryData:n?Object(A.getReportChartData)({endpoint:r,dataType:"primary",query:a,select:e,selector:o,filters:i,advancedFilters:s,defaultDateRange:u,fields:d}):v,tableData:c||Object(A.getReportTableData)({endpoint:r,query:a,select:e,selector:o,tableQuery:l,filters:i,advancedFilters:s,defaultDateRange:u}),query:a}}),Object(m.withDispatch)(function(e){var t=e(A.EXPORT_STORE_NAME).startExport;return{createNotice:e("core/notices").createNotice,startExport:t}}))(_),r=t(56),r=t.n(r),r=r()(b.CURRENCY),r=Object(T.createContext)(r);function w(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var x=function(e){s()(r,e);var t=w(r);function r(){var e;return a()(this,r),(e=t.call(this)).getHeadersContent=e.getHeadersContent.bind(f()(e)),e.getRowsContent=e.getRowsContent.bind(f()(e)),e.getSummary=e.getSummary.bind(f()(e)),e}return i()(r,[{key:"getHeadersContent",value:function(){return[{label:Object(D.__)("Code","woocommerce-gift-cards"),key:"giftcard_code",required:!0,isLeftAligned:!0,isSortable:!1},{label:Object(D.__)("Issued Amount","woocommerce-gift-cards"),key:"issued_balance",required:!0,isSortable:!0,isNumeric:!0},{label:Object(D.__)("Issued Date","woocommerce-gift-cards"),key:"date",defaultSort:!0,isSortable:!0,isNumeric:!0},{label:Object(D.__)("Expiration Date","woocommerce-gift-cards"),key:"expire_date",isSortable:!0,isNumeric:!0}].filter(Boolean)}},{key:"getRowsContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this.props.query,a=(Object(Q.getPersistedQuery)(t),Object(b.getSetting)("dateFormat",h.defaultTableDateFormat)),t=this.context,c=t.render,i=t.formatDecimal;(0,t.getCurrencyConfig)();return Object(M.map)(e,function(e){var t=e.create_date,r=e.giftcard_id,n=e.giftcard_code,o=e.issued_balance,e=e.expire_date,r=Object(b.getAdminLink)("admin.php?page=gc_giftcards&section=edit&giftcard="+r);return[{display:Object(T.createElement)(F.Link,{href:r,type:"wp-admin"},n),value:n},{display:c(o),value:i(o)},{display:t?Object(T.createElement)(F.Date,{date:t,visibleFormat:a}):Object(D.__)("N/A","woocommerce-gift-cards"),value:t},{display:e?Object(T.createElement)(F.Date,{date:e,visibleFormat:a}):Object(D.__)("N/A","woocommerce-gift-cards"),value:e}].filter(Boolean)})}},{key:"getSummary",value:function(e){var t=e.giftcards_count,t=void 0===t?0:t,e=e.issued_balance,e=void 0===e?0:e,r=this.context,n=r.formatAmount,r=(0,r.getCurrencyConfig)();return[{label:Object(D._n)("gift card issued","gift cards issued",t,"woocommerce-gift-cards"),value:Object(y.formatValue)(r,"number",t)},{label:Object(D.__)("issued","woocommerce-gift-cards"),value:n(e)}]}},{key:"render",value:function(){var e=this.props,t=e.filters,r=e.isRequesting,n=e.hideCompare,o=e.query,e=e.endpoint;return Object(T.createElement)(j,{endpoint:e,getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,getSummary:this.getSummary,summaryFields:["giftcards_count","issued_balance"],itemIdField:"giftcard_id",isRequesting:r,query:o,compareBy:n?void 0:"giftcards",tableQuery:{orderby:o.orderby||"issued_balance",order:o.order||"desc",segmentby:o.segmentby},title:Object(D.__)("Gift Cards","woocommerce-gift-cards"),columnPrefsKey:"giftcards_issued_report_columns",filters:t})}}]),r}(T.Component),R=(x.contextType=r,x);function C(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var x=function(e){s()(r,e);var t=C(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"formatVal",value:function(e,t){var r=this.context,n=r.formatAmount,r=r.getCurrencyConfig;return"currency"===t?n(e):Object(y.formatValue)(r(),t,e)}},{key:"getValues",value:function(e,t){var r=this.props,n=r.emptySearchResults,r=r.summaryData.totals,o=r.primary?r.primary[e]:0,r=r.secondary?r.secondary[e]:0,e=n?0:o,o=n?0:r;return{delta:Object(y.calculateDelta)(e,o),prevValue:this.formatVal(o,t),value:this.formatVal(e,t)}}},{key:"render",value:function(){var s=this,e=this.props,t=e.charts,r=e.query,u=e.selectedChart,n=e.summaryData,e=(e.endpoint,e.report,e.defaultDateRange),o=n.isError,n=n.isRequesting;if(!o){if(n)return Object(T.createElement)(F.SummaryListPlaceholder,{numberOfItems:t.length});var l=Object(h.getDateParamsFromQuery)(r,e).compare;return Object(T.createElement)(F.SummaryList,null,function(e){var i=e.onToggle;return t.map(function(e){var t=e.key,r=e.order,n=e.orderby,o=e.label,e=e.type,a={chart:t},n=(n&&(a.orderby=n),r&&(a.order=r),Object(Q.getNewPath)(a)),r=u.key===t,a=s.getValues(t,e),e=a.delta,c=a.prevValue,a=a.value;return Object(T.createElement)(F.SummaryNumber,{key:t,delta:e,href:n,label:o,prevLabel:"previous_period"===l?Object(D.__)("Previous Period:","woocommerce-product-bundles"):Object(D.__)("Previous Year:","woocommerce-product-bundles"),prevValue:c,selected:r,value:a,onLinkClickCallback:function(){i&&i()}})})})}}}]),r}(T.Component),E=(x.propTypes={charts:e.a.array.isRequired,endpoint:e.a.string.isRequired,query:e.a.object.isRequired,selectedChart:e.a.shape({key:e.a.string.isRequired,label:e.a.string.isRequired,order:e.a.oneOf(["asc","desc"]),orderby:e.a.string,type:e.a.oneOf(["average","number","currency"]).isRequired}).isRequired,summaryData:e.a.object,report:e.a.string},x.defaultProps={summaryData:{totals:{primary:{},secondary:{}},isError:!1}},x.contextType=r,Object(p.compose)(Object(m.withSelect)(function(e,t){var r=t.charts,n=t.endpoint,o=t.limitProperties,a=t.query,c=t.filters,t=t.advancedFilters,o=o||[n],i=o.some(function(e){return a[e]&&a[e].length});if(a.search&&!i)return{emptySearchResults:!0};i=r&&r.map(function(e){return e.key}),r=e(A.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range;return{summaryData:Object(A.getSummaryNumbers)({endpoint:n,query:a,select:e,limitBy:o,filters:c,advancedFilters:t,defaultDateRange:r,fields:i}),defaultDateRange:r}}))(x)),q=t(57);function S(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(e){L()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function k(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var x=function(e){s()(r,e);var t=k(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"shouldComponentUpdate",value:function(e){return e.isRequesting!==this.props.isRequesting||e.primaryData.isRequesting!==this.props.primaryData.isRequesting||e.secondaryData.isRequesting!==this.props.secondaryData.isRequesting||!Object(M.isEqual)(e.query,this.props.query)}},{key:"getItemChartData",value:function(){var e=this.props,t=e.primaryData,n=e.selectedChart;return t.data.intervals.map(function(e){var r={};return e.subtotals.segments.forEach(function(e){var t;e.segment_label&&(t=r[e.segment_label]?e.segment_label+" (#"+e.segment_id+")":e.segment_label,r[e.segment_id]={label:t,value:e.subtotals[n.key]||0})}),P({date:Object(q.format)("Y-m-d\\TH:i:s",e.date_start)},r)})}},{key:"getTimeChartData",value:function(){var e=this.props,n=e.query,t=e.primaryData,o=e.secondaryData,a=e.selectedChart,e=e.defaultDateRange,c=Object(h.getIntervalForQuery)(n),e=Object(h.getCurrentDates)(n,e),i=e.primary,s=e.secondary;return t.data.intervals.map(function(e,t){var r=Object(h.getPreviousDate)(e.date_start,i.after,s.after,n.compare,c),t=o.data.intervals[t];return{date:Object(q.format)("Y-m-d\\TH:i:s",e.date_start),primary:{label:"".concat(i.label," (").concat(i.range,")"),labelDate:e.date_start,value:e.subtotals[a.key]||0},secondary:{label:"".concat(s.label," (").concat(s.range,")"),labelDate:r.format("YYYY-MM-DD HH:mm:ss"),value:t&&t.subtotals[a.key]||0}}})}},{key:"getTimeChartTotals",value:function(){var e=this.props,t=e.primaryData,r=e.secondaryData,e=e.selectedChart;return{primary:Object(M.get)(t,["data","totals",e.key],null),secondary:Object(M.get)(r,["data","totals",e.key],null)}}},{key:"renderChart",value:function(e,t,r,n){var o=this.props,a=o.emptySearchResults,l=o.filterParam,d=o.interactiveLegend,p=o.itemsLabel,f=o.legendPosition,m=o.path,c=o.query,i=o.selectedChart,y=o.showHeaderControls,o=o.primaryData,s=Object(h.getIntervalForQuery)(c),b=Object(h.getAllowedIntervalsForQuery)(c),o=Object(h.getDateFormatsForInterval)(s,o.data.intervals.length),a=a?Object(D.__)("No data for the current search","woocommerce-admin"):Object(D.__)("No data for the selected date range","woocommerce-admin"),u=this.context,g=u.formatAmount,u=u.getCurrencyConfig;return Object(T.createElement)(F.Chart,{allowedIntervals:b,data:r,dateParser:"%Y-%m-%dT%H:%M:%S",emptyMessage:a,filterParam:l,interactiveLegend:d,interval:s,isRequesting:t,itemsLabel:p,legendPosition:f,legendTotals:n,mode:e,path:m,query:c,screenReaderFormat:o.screenReaderFormat,showHeaderControls:y,title:i.label,tooltipLabelFormat:o.tooltipLabelFormat,tooltipTitle:"time-comparison"===e&&i.label||null,tooltipValueFormat:Object(A.getTooltipValueFormat)(i.type,g),chartType:Object(h.getChartTypeForQuery)(c),valueType:i.type,xFormat:o.xFormat,x2Format:o.x2Format,currency:u()})}},{key:"renderItemComparison",value:function(){var e=this.props,t=e.isRequesting,e=e.primaryData;if(e.isError)return Object(T.createElement)(W,{isError:!0});t=t||e.isRequesting,e=this.getItemChartData();return this.renderChart("item-comparison",t,e)}},{key:"renderTimeComparison",value:function(){var e=this.props,t=e.isRequesting,r=e.primaryData,e=e.secondaryData;if(!r||r.isError||e.isError)return Object(T.createElement)(W,{isError:!0});t=t||r.isRequesting||e.isRequesting,r=this.getTimeChartData(),e=this.getTimeChartTotals();return this.renderChart("time-comparison",t,r,e)}},{key:"render",value:function(){return"item-comparison"===this.props.mode?this.renderItemComparison():this.renderTimeComparison()}}]),r}(T.Component),J=(x.contextType=r,x.propTypes={filters:e.a.array,isRequesting:e.a.bool,itemsLabel:e.a.string,limitProperties:e.a.array,mode:e.a.string,path:e.a.string.isRequired,primaryData:e.a.object,query:e.a.object.isRequired,secondaryData:e.a.object,selectedChart:e.a.shape({key:e.a.string.isRequired,label:e.a.string.isRequired,order:e.a.oneOf(["asc","desc"]),orderby:e.a.string,type:e.a.oneOf(["average","number","currency"]).isRequired}).isRequired},x.defaultProps={isRequesting:!1,primaryData:{data:{intervals:[]},isError:!1,isRequesting:!1},secondaryData:{data:{intervals:[]},isError:!1,isRequesting:!1}},Object(p.compose)(Object(m.withSelect)(function(e,t){var r=t.charts,n=t.endpoint,o=t.filters,a=t.isRequesting,c=t.limitProperties,i=t.query,l=t.advancedFilters,c=c||[n],s=function e(t,r,n){n=2<arguments.length&&void 0!==n?n:{};if(!t||0===t.length)return null;var o,t=t.slice(0),a=t.pop();return a.showFilters(r,n)?(o=Object(Q.flattenFilters)(a.filters),a=r[a.param]||a.defaultValue||"all",Object(M.find)(o,{value:a})):e(t,r,n)}(o,i),u=Object(M.get)(s,["settings","param"]),t=t.mode||function(e,t){if(e&&t){var r=Object(M.get)(e,["settings","param"]);if(!r||Object.keys(t).includes(r))return Object(M.get)(e,["chartMode"])}return null}(s,i)||"time-comparison",s=e(A.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range,d=e(A.REPORTS_STORE_NAME),u={mode:t,filterParam:u,defaultDateRange:s};if(a)return u;a=c.some(function(e){return i[e]&&i[e].length});if(i.search&&!a)return P(P({},u),{},{emptySearchResults:!0});a=r&&r.map(function(e){return e.key}),r=Object(A.getReportChartData)({endpoint:n,dataType:"primary",query:i,select:e,selector:d,limitBy:c,filters:o,advancedFilters:l,defaultDateRange:s,fields:a});if("item-comparison"===t)return P(P({},u),{},{primaryData:r});t=Object(A.getReportChartData)({endpoint:n,dataType:"secondary",query:i,select:e,selector:d,limitBy:c,filters:o,advancedFilters:l,defaultDateRange:s,fields:a});return P(P({},u),{},{primaryData:r,secondaryData:t})}))(x));t(59),t(60);function Z(e,t){t=1<arguments.length&&void 0!==t?t:[],e=Object(M.find)(t,{key:e});return e||t[0]}function ee(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function te(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var p=function(e){s()(r,e);var t=te(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"getChartMeta",value:function(){var e=this.props;e.query,e.isSingleProductView;return{itemsLabel:Object(D.__)("%d gift cards","woocommerce-gift-cards"),mode:"time-comparison"}}},{key:"render",value:function(){var e=this.getChartMeta(),t=e.itemsLabel,e=e.mode,r=this.props,n=r.path,o=r.query,a=r.isError,r=r.isRequesting;if(a)return Object(T.createElement)(ReportError,{isError:!0});a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(r),!0).forEach(function(e){L()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},o);return Object(T.createElement)(T.Fragment,null,Object(T.createElement)(F.ReportFilters,{query:o,path:n,showDatePicker:!0,filters:c}),Object(T.createElement)(E,{mode:e,charts:d,endpoint:l,isRequesting:r,query:a,selectedChart:Z(o.chart,d),filters:c}),Object(T.createElement)(J,{charts:d,mode:e,endpoint:l,isRequesting:r,itemsLabel:t,path:n,query:a,selectedChart:Z(a.chart,d),filters:c}),Object(T.createElement)(R,{isRequesting:r,endpoint:l,hideCompare:!0,query:o,filters:c}))}}]),r}(T.Component),re=(p.propTypes={path:e.a.string.isRequired,query:e.a.object.isRequired},p),ne=[{key:"giftcards_count",label:Object(D.__)("Used Gift Cards","woocommerce-gift-cards"),order:"desc",orderby:"net_amount",type:"number"},{key:"used_amount",label:Object(D.__)("Debited Amount","woocommerce-gift-cards"),order:"desc",orderby:"used_amount",type:"currency"},{key:"refunded_amount",label:Object(D.__)("Credited Amount","woocommerce-gift-cards"),order:"desc",orderby:"refunded_amount",type:"currency"},{key:"net_amount",label:Object(D.__)("Net Amount","woocommerce-gift-cards"),order:"desc",orderby:"net_amount",type:"currency"}];function oe(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var m=function(e){s()(r,e);var t=oe(r);function r(){var e;return a()(this,r),(e=t.call(this)).getHeadersContent=e.getHeadersContent.bind(f()(e)),e.getRowsContent=e.getRowsContent.bind(f()(e)),e.getSummary=e.getSummary.bind(f()(e)),e}return i()(r,[{key:"getHeadersContent",value:function(){return[{label:Object(D.__)("Code","woocommerce-gift-cards"),key:"giftcard_code",required:!0,isLeftAligned:!0,isSortable:!1},{label:Object(D.__)("Debited Amount","woocommerce-gift-cards"),key:"used_amount",required:!0,isSortable:!0,isNumeric:!0},{label:Object(D.__)("Credited Amount","woocommerce-gift-cards"),key:"refunded_amount",isSortable:!0,isNumeric:!0},{label:Object(D.__)("Net Amount","woocommerce-gift-cards"),key:"net_amount",defaultSort:!0,isSortable:!0,isNumeric:!0}].filter(Boolean)}},{key:"getRowsContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=(this.props.query,this.context),a=t.render,c=t.formatDecimal;t.getCurrencyConfig;return Object(M.map)(e,function(e){var t=e.giftcard_id,r=e.giftcard_code,n=e.net_amount,o=e.refunded_amount,e=e.used_amount,t=Object(b.getAdminLink)("admin.php?page=gc_giftcards&section=edit&giftcard="+t);return[{display:Object(T.createElement)(F.Link,{href:t,type:"wp-admin"},r),value:r},{display:a(e),value:c(e)},{display:a(o),value:c(o)},{display:a(n),value:c(n)}].filter(Boolean)})}},{key:"getSummary",value:function(e){var t=e.giftcards_count,t=void 0===t?0:t,r=e.net_amount,r=void 0===r?0:r,n=e.refunded_amount,n=void 0===n?0:n,e=e.used_amount,e=void 0===e?0:e,o=this.context,a=o.formatAmount,o=(0,o.getCurrencyConfig)();return[{label:Object(D._n)("gift card used","gift cards used",t,"woocommerce-gift-cards"),value:Object(y.formatValue)(o,"number",t)},{label:Object(D.__)("debited","woocommerce-gift-cards"),value:a(e)},{label:Object(D.__)("credited","woocommerce-gift-cards"),value:a(n)},{label:Object(D.__)("net","woocommerce-gift-cards"),value:a(r)}]}},{key:"render",value:function(){var e=this.props,t=e.filters,r=e.isRequesting,n=e.hideCompare,e=e.query;return Object(T.createElement)(j,{endpoint:"giftcards/used",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,getSummary:this.getSummary,summaryFields:["giftcards_count","used_amount","refunded_amount","net_amount"],itemIdField:"giftcard_id",isRequesting:r,query:e,compareBy:n?void 0:"giftcards",tableQuery:{orderby:e.orderby||"used_amount",order:e.order||"desc",segmentby:e.segmentby},title:Object(D.__)("Gift Cards","woocommerce-gift-cards"),columnPrefsKey:"giftcards_used_report_columns",filters:t})}}]),r}(T.Component),ae=(m.contextType=r,m);function ce(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function ie(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var x=function(e){s()(r,e);var t=ie(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"getChartMeta",value:function(){var e=this.props;e.query,e.isSingleProductView;return{itemsLabel:Object(D.__)("%d gift cards","woocommerce-gift-cards"),mode:"time-comparison"}}},{key:"render",value:function(){var e=this.getChartMeta(),t=e.itemsLabel,e=e.mode,r=this.props,n=r.path,o=r.query,a=r.isError,r=r.isRequesting;if(a)return Object(T.createElement)(ReportError,{isError:!0});a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(r),!0).forEach(function(e){L()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},o);return Object(T.createElement)(T.Fragment,null,Object(T.createElement)(F.ReportFilters,{query:o,path:n,showDatePicker:!0,filters:c}),Object(T.createElement)(E,{mode:e,charts:ne,endpoint:"giftcards/used",isRequesting:r,query:a,selectedChart:Z(o.chart,ne),filters:c}),Object(T.createElement)(J,{charts:ne,mode:e,endpoint:"giftcards/used",isRequesting:r,itemsLabel:t,path:n,query:a,selectedChart:Z(a.chart,ne),filters:c}),Object(T.createElement)(ae,{isRequesting:r,hideCompare:!0,query:o,filters:c}))}}]),r}(T.Component),se=(x.propTypes={path:e.a.string.isRequired,query:e.a.object.isRequired},x),ue=[{key:"giftcards_count",label:Object(D.__)("Expired Gift Cards","woocommerce-gift-cards"),order:"desc",orderby:"expire_date",type:"number"},{key:"expired_balance",label:Object(D.__)("Expired Amount","woocommerce-gift-cards"),order:"desc",orderby:"expired_balance",type:"currency"}];function le(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}var t=function(e){s()(r,e);var t=le(r);function r(){var e;return a()(this,r),(e=t.call(this)).getHeadersContent=e.getHeadersContent.bind(f()(e)),e.getRowsContent=e.getRowsContent.bind(f()(e)),e.getSummary=e.getSummary.bind(f()(e)),e}return i()(r,[{key:"getHeadersContent",value:function(){return[{label:Object(D.__)("Code","woocommerce-gift-cards"),key:"giftcard_code",required:!0,isLeftAligned:!0,isSortable:!1},{label:Object(D.__)("Expired Amount","woocommerce-gift-cards"),key:"expired_balance",required:!0,isSortable:!0,isNumeric:!0},{label:Object(D.__)("Expired","woocommerce-gift-cards"),key:"expire_date",defaultSort:!0,isSortable:!0,isNumeric:!0},{label:Object(D.__)("Issued","woocommerce-gift-cards"),key:"date",isSortable:!0,isNumeric:!0}].filter(Boolean)}},{key:"getRowsContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this.props.query,a=(Object(Q.getPersistedQuery)(t),Object(b.getSetting)("dateFormat",h.defaultTableDateFormat)),t=this.context,c=t.render,i=t.formatDecimal;(0,t.getCurrencyConfig)();return Object(M.map)(e,function(e){var t=e.create_date,r=e.giftcard_id,n=e.giftcard_code,o=e.expired_balance,e=e.expire_date,r=Object(b.getAdminLink)("admin.php?page=gc_giftcards&section=edit&giftcard="+r);return[{display:Object(T.createElement)(F.Link,{href:r,type:"wp-admin"},n),value:n},{display:c(o),value:i(o)},{display:e?Object(T.createElement)(F.Date,{date:e,visibleFormat:a}):Object(D.__)("N/A","woocommerce-gift-cards"),value:e},{display:t?Object(T.createElement)(F.Date,{date:t,visibleFormat:a}):Object(D.__)("N/A","woocommerce-gift-cards"),value:t}].filter(Boolean)})}},{key:"getSummary",value:function(e){var t=e.giftcards_count,t=void 0===t?0:t,e=e.expired_balance,e=void 0===e?0:e,r=this.context,n=r.formatAmount,r=(0,r.getCurrencyConfig)();return[{label:Object(D._n)("gift card expired","gift cards expired",t,"woocommerce-gift-cards"),value:Object(y.formatValue)(r,"number",t)},{label:Object(D.__)("expired","woocommerce-gift-cards"),value:n(e)}]}},{key:"render",value:function(){var e=this.props,t=e.filters,r=e.isRequesting,n=e.hideCompare,e=e.query;return Object(T.createElement)(j,{endpoint:"giftcards/expired",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,getSummary:this.getSummary,summaryFields:["giftcards_count","expired_balance"],itemIdField:"giftcard_id",isRequesting:r,query:e,compareBy:n?void 0:"giftcards",tableQuery:{orderby:e.orderby||"expire_date",order:e.order||"desc",segmentby:e.segmentby},title:Object(D.__)("Gift Cards","woocommerce-gift-cards"),columnPrefsKey:"giftcards_expired_report_columns",filters:t})}}]),r}(T.Component),de=(t.contextType=r,t);function pe(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function fe(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o()(r);return e=n?(e=o()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),u()(this,e)}}function me(e){var t,r=e.query;switch(e.query.section=r.section||"used",r.section){case"issued":t=Object(T.createElement)(re,e);break;case"used":t=Object(T.createElement)(se,e);break;case"expired":t=Object(T.createElement)(ye,e);break;default:t=Object(T.createElement)(W,null)}return Object(T.createElement)(T.Fragment,null,t)}var p=function(e){s()(r,e);var t=fe(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"getChartMeta",value:function(){var e=this.props;e.query,e.isSingleProductView;return{itemsLabel:Object(D.__)("%d gift cards","woocommerce-gift-cards"),mode:"time-comparison"}}},{key:"render",value:function(){var e=this.getChartMeta(),t=e.itemsLabel,e=e.mode,r=this.props,n=r.path,o=r.query,a=r.isError,r=r.isRequesting;if(a)return Object(T.createElement)(ReportError,{isError:!0});a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(r),!0).forEach(function(e){L()(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},o);return Object(T.createElement)(T.Fragment,null,Object(T.createElement)(F.ReportFilters,{query:o,path:n,showDatePicker:!0,filters:c}),Object(T.createElement)(E,{mode:e,charts:ue,endpoint:"giftcards/expired",isRequesting:r,query:a,selectedChart:Z(o.chart,ue),filters:c}),Object(T.createElement)(J,{charts:ue,mode:e,endpoint:"giftcards/expired",isRequesting:r,itemsLabel:t,path:n,query:a,selectedChart:Z(a.chart,ue),filters:c}),Object(T.createElement)(de,{isRequesting:r,hideCompare:!0,query:o,filters:c}))}}]),r}(T.Component),ye=(p.propTypes={path:e.a.string.isRequired,query:e.a.object.isRequired},p);Object(I.addFilter)("woocommerce_admin_reports_list","woocommerce-gift-cards",function(e){return[].concat(B()(e),[{report:"gift-cards",title:Object(D._x)("Gift Cards","analytics report menu item","woocommerce-gift-cards"),component:me,navArgs:{id:"wc-gc-gift-cards-analytics-report"}}])})}]);