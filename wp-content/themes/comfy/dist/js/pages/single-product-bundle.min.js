!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=3)}({"./src/js/pages/single-product-bundle.js":function(t,e){var a;({stepsWrap:(a=jQuery)(".bundle-steps-wrap"),currentStep:0,stepsNum:NaN,loadedVariations:[],initBundleVariationsGallery:function(){var t=this;a(".bundled_product").on("woocommerce_variation_has_changed",function(){var e=a(this).find("input.variation_id").attr("value");e&&(t.loadedVariations.includes(e)?t.activateLoadedGallery(e):(t.loadedVariations.push(e),t.getVariationGallery(e)))})},getVariationGallery:function(t){var e={ajax_url:"/?wc-ajax=wc_additional_variation_images_get_images",variation_id:t,security:wc_additional_variation_images_local.ajaxImageSwapNonce};window.ajaxCall(e).success(this.ajaxSuccess.bind(this)).fail(this.ajaxFail.bind(this))},appendVariationGallery:function(t,e){var i=this.getVariationGalleryWrap(t);i.append(e);var n=a(".woocommerce-product-gallery--variation-"+t);n[0]&&(i.find(".woocommerce-product-gallery.active").removeClass("active"),n.addClass("active"),n.css("opacity",1),this.activateLoadedGallery(t,i))},getVariationGalleryWrap:function(t){return a("input.variation_id[value="+t+"]").parents("div.bundled_product").find(".variation-gallery-wrap")},activateLoadedGallery:function(t){var e=a(".woocommerce-product-gallery--variation-"+t),i=this.getVariationGalleryWrap(t);e[0]&&(i.find(".woocommerce-product-gallery.active").removeClass("active"),e.addClass("active"),e.css("opacity",1))},updateLastStepGallery:function(){var t=a("#bundle-last-step-gallery"),e=t.find(".woocommerce-product-gallery-nav").empty(),i=t.find(".woocommerce-product-gallery-items").empty();a(".variation-gallery-wrap .woocommerce-product-gallery.active").each(function(){var t=a(this).find(".gallery-item").first().clone(),n=a(this).find(".gallery-nav-item").first().clone();i.append(t),e.append(n)})},updateLastStepItems:function(){a(".variations_form").each(function(){var t=a(this).data("product_variations"),e=parseInt(a(this).find("input.variation_id").attr("value")),i={},n=a(this).data("product_id"),r=a("#bundle-item-"+n);a(this).find(".attribute_options").each(function(){var t=a(this).find(".variable-items-wrapper").data("attribute_name"),e=a(this).find(".variable-item.selected").data("title");r.find("."+t).text(e)}),a(t).each(function(){e!==this.variation_id||(i=this.image)}),r.find("img").attr("src",i.src).attr("srcset",i.srcset)})},updateLastStep:function(){this.updateLastStepItems(),this.updateLastStepGallery()},ajaxSuccess:function(t){t.main_images&&t.variation_id&&this.appendVariationGallery(t.variation_id,t.main_images)},ajaxFail:function(t){console.log(t)},goToStep:function(t){var e=a(".bundle-step.current-step");a(".bundle-step[data-step="+t+"]").addClass("current-step"),e.removeClass("current-step")},initStepsBtns:function(){var t=this;a(".bundle-step-button").on("click",function(e){e.preventDefault(),a(this).hasClass("prev-step-bundle")?t.currentStep--:t.currentStep++,t.currentStep===t.stepsNum&&t.updateLastStep(),t.goToStep(t.currentStep)}),a(".bundle-item-change-link").on("click",function(e){e.preventDefault(),t.currentStep=a(this).data("step"),t.goToStep(t.currentStep)})},init:function(){this.stepsNum=this.stepsWrap.data("steps"),this.currentStep=a(".bundle-step.current-step").data("step"),this.initBundleVariationsGallery(),this.initStepsBtns()}}).init()},3:function(t,e,a){t.exports=a("./src/js/pages/single-product-bundle.js")}});