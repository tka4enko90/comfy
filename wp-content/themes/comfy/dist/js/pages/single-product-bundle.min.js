!function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}({"./src/js/pages/single-product-bundle.js":function(t,e){var i;({stepsWrap:(i=jQuery)(".bundle-steps-wrap"),currentStep:0,stepsNum:NaN,loadedVariations:[],initBundleVariationsGallery:function(){var t=this;i(".bundled_product").on("woocommerce_variation_has_changed",function(){var e=i(this).find("input.variation_id").attr("value");e&&(t.loadedVariations.includes(e)?t.activateLoadedGallery(e):(t.loadedVariations.push(e),t.getVariationGallery(e)))})},getVariationGallery:function(t){var e={ajax_url:"/?wc-ajax=wc_additional_variation_images_get_images",variation_id:t,security:wc_additional_variation_images_local.ajaxImageSwapNonce};window.ajaxCall(e).success(this.ajaxSuccess.bind(this)).fail(this.ajaxFail.bind(this))},appendVariationGallery:function(t,e){var a=this.getVariationGalleryWrap(t);a.append(e);var n=i(".woocommerce-product-gallery--variation-"+t);n[0]&&(a.find(".woocommerce-product-gallery.active").removeClass("active"),n.addClass("active"),n.css("opacity",1),this.activateLoadedGallery(t,a))},getVariationGalleryWrap:function(t){return i("input.variation_id[value="+t+"]").parents("div.bundled_product").find(".variation-gallery-wrap")},activateLoadedGallery:function(t){var e=i(".woocommerce-product-gallery--variation-"+t),a=this.getVariationGalleryWrap(t);e[0]&&(a.find(".woocommerce-product-gallery.active").removeClass("active"),e.addClass("active"),e.css("opacity",1))},updateLastStepGallery:function(){var t=i("#bundle-last-step-gallery .woocommerce-product-gallery-nav").empty(),e=i("#bundle-last-step-gallery .woocommerce-product-gallery-items").empty();e.hasClass("slick-initialized")&&e.slick("unslick").empty(),i(".variation-gallery-wrap .woocommerce-product-gallery.active").each(function(){var a=i(this).find(".woocommerce-product-gallery-items").hasClass("slick-initialized")?i(this).find('.slick-slide[data-slick-index="0"] .gallery-item').first().clone():i(this).find(".gallery-item").first().clone(),n=i(this).find(".gallery-nav-item").first().clone();e.append(a),t.append(n)}),e.not(".slick-initialized").slick({infinite:!0,dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,speed:1e3,mobileFirst:!0,responsive:[{breakpoint:480,settings:"unslick"}]})},updateLastStepItems:function(){i(".variations_form").each(function(){var t=i(this).data("product_variations"),e=parseInt(i(this).find("input.variation_id").attr("value")),a={},n=i(this).data("product_id"),r=i("#bundle-item-"+n);i(this).find(".attribute_options").each(function(){var t=i(this).find(".variable-items-wrapper").data("attribute_name"),e=i(this).find(".variable-item.selected").data("title");r.find("."+t).text(e)}),i(t).each(function(){e!==this.variation_id||(a=this.image)}),r.find("img").attr("src",a.src).attr("srcset",a.srcset)})},updateLastStep:function(){this.updateLastStepItems(),this.updateLastStepGallery()},ajaxSuccess:function(t){t.main_images&&t.variation_id&&(this.appendVariationGallery(t.variation_id,t.main_images),i(window).trigger("wc_additional_variation_images_frontend_lightbox_done"))},ajaxFail:function(t){console.log(t)},goToStep:function(t){var e=i(".bundle-step.current-step");i(".bundle-step[data-step="+t+"]").addClass("current-step"),e.removeClass("current-step")},initStepsBtns:function(){var t=this;i(".bundle-step-button").on("click",function(e){e.preventDefault(),i(this).hasClass("prev-step-bundle")?t.currentStep--:t.currentStep++,t.currentStep===t.stepsNum&&t.updateLastStep(),t.goToStep(t.currentStep)}),i(".bundle-item-change-link").on("click",function(e){e.preventDefault(),t.currentStep=i(this).data("step"),t.goToStep(t.currentStep),i(".woocommerce-product-gallery-items.slick-initialized").slick("refresh")})},init:function(){this.stepsNum=this.stepsWrap.data("steps"),this.currentStep=i(".bundle-step.current-step").data("step"),this.initBundleVariationsGallery(),this.initStepsBtns()}}).init()},3:function(t,e,i){t.exports=i("./src/js/pages/single-product-bundle.js")}});